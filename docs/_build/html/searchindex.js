Search.setIndex({"docnames": ["contents", "index", "source/modules", "source/src", "source/src.mavlite", "source/src.uart"], "filenames": ["contents.rst", "index.rst", "source\\modules.rst", "source\\src.rst", "source\\src.mavlite.rst", "source\\src.uart.rst"], "titles": ["&lt;no title&gt;", "About", "src", "src package", "src.mavlite module", "src.uart module"], "terms": {"mavlit": [1, 2, 3], "i": [1, 4, 5], "an": [1, 3, 4], "attempt": [1, 4], "make": 1, "fulli": 1, "elect": 1, "light": 1, "weight": 1, "mavlink": [1, 4], "modul": [1, 2], "As": 1, "time": [1, 5], "thi": [1, 4, 5], "write": [1, 4, 5], "us": [1, 4, 5], "roughli": 1, "45kb": 1, "flash": 1, "littl": 1, "30kb": 1, "memori": [1, 4, 5], "consumpt": 1, "subject": 1, "chang": 1, "base": [1, 4, 5], "number": [1, 5], "messag": [1, 4, 5], "includ": [1, 5], "ar": 1, "xiao": 1, "rp2040": 1, "esp32": 1, "standard": 1, "uasyncio": 1, "http": [1, 4], "github": 1, "com": 1, "peterhinch": 1, "async": [1, 4, 5], "busio": [1, 5], "adafruit": 1, "adafruit_busio": 1, "board": 1, "doc": [1, 4], "org": [1, 4], "en": 1, "latest": 1, "share": 1, "bind": 1, "support_matrix": 1, "html": [1, 4], "asyncio": 1, "adafruit_circuitpython_asyncio": 1, "adafruit_tca9548a": 1, "adafruit_circuitpython_tca9548a": 1, "adafruit_vl53l1x": 1, "adafruit_circuitpython_vl53l1x": 1, "sphinx": 1, "2": [1, 4], "4": 1, "copybutton": 1, "issu": [1, 5], "3": [1, 4], "0": [1, 4, 5], "1": [1, 4, 5], "remov": [1, 4], "rtd": 1, "theme": 1, "sphinxext": 1, "opengraph": 1, "dialect": 1, "file": [1, 3, 4], "far": 1, "too": 1, "larg": 1, "microcontrol": 1, "them": 1, "message_id": [1, 4, 5], "specifi": [1, 4], "list": [1, 4, 5], "object": [1, 4, 5], "pass": 1, "dure": 1, "init": [1, 3, 4], "definit": 1, "can": 1, "found": 1, "see": [1, 5], "section": 1, "from": [1, 4], "import": 1, "creat": [1, 4], "distance_sensor": 1, "ml": 1, "132": 1, "command": [1, 4], "callback": [1, 4, 5], "incom": [1, 4], "handl": [1, 4], "form": [1, 5], "execut": [1, 4], "defin": 1, "dict": [1, 4], "accept": [1, 4], "exactli": 1, "seven": 1, "argument": [1, 4], "specif": [1, 4], "In": 1, "addit": 1, "must": 1, "return": [1, 4, 5], "three": 1, "valu": [1, 5], "result": [1, 4, 5], "progress": [1, 4], "result2": 1, "The": [1, 5], "when": [1, 4], "receiv": [1, 4], "command_listen": [1, 4], "task": [1, 4, 5], "loop": [1, 5], "def": 1, "reboot": 1, "arg": [1, 5], "simpl": [1, 4], "function": 1, "A": [1, 5], "real": 1, "should": [1, 5], "evalu": 1, "7": [1, 4], "byte": [1, 4, 5], "param": [1, 4], "data": 1, "reset": [1, 4], "ani": [1, 4, 5], "other": 1, "would": 1, "need": 1, "statu": 1, "inform": 1, "246": [1, 4], "select": 1, "call": 1, "io_buff": [1, 4], "tupl": [1, 4], "asynchron": 1, "fed": 1, "directli": 1, "provid": 1, "outgo": [1, 4], "packet": [1, 4, 5], "transmiss": [1, 4], "buffer": [1, 4, 5], "read_loop": [1, 4], "recept": [1, 4, 5], "heartbeat_loop": [1, 4], "send": [1, 4], "heartbeat": [1, 4], "1hz": 1, "check": [1, 4], "read": [1, 4, 5], "respect": [1, 4], "uart": [1, 2, 3, 4], "_uart": [1, 4, 5], "tx": [1, 5], "rx": [1, 5], "baudrat": [1, 5], "230400": 1, "main": 1, "mainloop": [1, 5], "await": 1, "debug": [1, 4, 5], "fals": [1, 4, 5], "write_loop": [1, 4], "gather": 1, "lidar": 1, "true": 1, "run": [1, 4, 5], "syntax": 1, "fill": [], "out": 1, "restart": [1, 4], "flight": 1, "control": 1, "py": 1, "method": [1, 4], "try": 1, "except": 1, "importerror": 1, "noqa": 1, "17": 1, "16": 1, "m_id": [1, 4], "m": 1, "253": [1, 4], "heartbeat_wait": [1, 4], "send_command": [1, 4], "command_id": [1, 4], "target_system": [1, 4], "target_compon": [1, 4], "uart_": 1, "snd_cmd": 1, "create_task": 1, "rangefind": 1, "snc": 1, "some": 1, "dummi": 1, "sensor": 1, "random": 1, "monoton": 1, "distanc": 1, "while": 1, "transmit": [1, 4], "send_messag": [1, 4], "payload": [1, 4], "int": [1, 4, 5], "boot_tim": 1, "min_dist": 1, "100": [1, 5], "max_dist": 1, "randint": 1, "current_dist": 1, "type": [1, 4], "id": [1, 4], "25": 1, "orient": 1, "fuck": 1, "sure": 1, "match": 1, "mission": 1, "planner": 1, "255": 1, "covari": 1, "20": 1, "horizontal_fov": 1, "vertical_fov": 1, "quaternion": 1, "signal_qu": 1, "keyboardinterrupt": 1, "break": 1, "i2c": 1, "multiplexor": 1, "mplex": 1, "how": 1, "multipl": 1, "vl53l1x": 1, "over": 1, "tca9548a": 1, "ardupilot": 1, "configur": 1, "rngfndn_type": 1, "set": [1, 5], "10": [1, 4], "prx_type": 1, "It": 1, "seem": 1, "onli": 1, "origin": 1, "compon": 1, "For": 1, "adjust": [1, 4], "pin": 1, "you": 1, "just": [1, 4], "want": [1, 4], "instead": 1, "actual": 1, "none": [1, 4, 5], "tca": 1, "bu": 1, "normal": 1, "scl": 1, "sda": 1, "todo": 1, "we": [1, 4, 5], "add": [1, 4], "compat": [1, 4], "": [1, 4], "give": 1, "channel": 1, "disabl": 1, "forward": 1, "right": 1, "back": 1, "5": 1, "left": 1, "6": 1, "24": 1, "up": [1, 4], "down": 1, "ensur": [1, 4], "meet": 1, "those": 1, "front": 1, "test_scan": 1, "fire": [1, 4], "multiplex": 1, "prove": 1, "everyth": 1, "talk": 1, "wai": 1, "total": 1, "rang": 1, "8": [1, 4, 5], "needs_unlock": 1, "try_lock": 1, "print": 1, "format": [1, 4], "end": 1, "address": 1, "scan": 1, "0x29": 1, "lidar____________________________________________________________________________________": 1, "unlock": 1, "grab": 1, "sensor_i2c": 1, "child": 1, "parent": 1, "start": 1, "measur": 1, "start_rang": 1, "record": 1, "place": 1, "holder": 1, "get": [1, 5], "sampl": 1, "desir": 1, "readi": [1, 4], "data_readi": 1, "clear": [1, 4], "interrupt": 1, "clear_interrupt": 1, "sleep": 1, "class": [1, 4, 5], "One": 1, "dai": 1, "arrai": 1, "eight": 1, "one": 1, "nativ": 1, "all": [1, 4], "41": 1, "allow": [1, 4, 5], "u": [1, 4, 5], "nine": 1, "through": 1, "tenth": 1, "via": [1, 4], "bring": 1, "ten": 1, "cours": 1, "extend": 1, "futur": 1, "accommod": 1, "channel_num": 1, "__init__": 1, "self": 1, "bool": [1, 4, 5], "here": [1, 5], "our": [1, 4, 5], "tell": 1, "take": 1, "append": 1, "confirm": [1, 4], "healthi": 1, "skip": 1, "mavlink_send": 1, "chan": 1, "400": 1, "isn": 1, "t": [1, 5], "tidi": 1, "c_id": [1, 4], "sensorid": 1, "staticmethod": 1, "read_sensor": 1, "float": [1, 4, 5], "individu": 1, "01": 1, "dynam": 1, "mode": 1, "fov": 1, "variou": 1, "zip": 1, "els": 1, "manbehindthemad": 1, "io": 1, "common": 1, "ardupilotmega": 1, "dev": 1, "known": 1, "plan": 1, "index": [1, 4], "search": 1, "page": 1, "packag": 2, "submodul": 2, "msgformat": [], "content": [2, 4], "yai": 3, "produc": 4, "bare": 4, "minimum": 4, "commun": [1, 4], "system": 4, "python": 4, "librari": 4, "struct": 4, "typeslist": 4, "f": 4, "doubl": 4, "d": 4, "char": 4, "int8_t": 4, "b": 4, "int16_t": 4, "h": 4, "int32_t": 4, "l": 4, "int64_t": 4, "q": 4, "uint8_t": 4, "uint16_t": 4, "uint32_t": 4, "uint64_t": 4, "s_id": [4, 5], "sourc": [4, 5], "ack": [1, 4], "static": [4, 5], "wait": [4, 5], "cmd_id": [], "respons": [], "158": 4, "c_flag": 4, "i_flag": 4, "retri": 4, "heartbeat_payload": 4, "18": 4, "where": [1, 4], "come": 4, "togeth": 4, "babah": 4, "note": 4, "thei": 4, "shutdown_command_funct": 4, "On": 4, "parser": 4, "ack_payload": 4, "command_parameters_seven_long": 4, "send_ack": 4, "bodi": 4, "result_param2": 4, "ack_wait": 4, "timeout": [4, 5], "command_pars": 4, "collect": 4, "off": 4, "requir": 4, "o": 4, "receive_messag": [], "receive_command": [], "decod": [4, 5], "command_ack": [], "unpack": [], "hbbibb": [], "mav_result": [], "term": 4, "construct": 4, "deconstruct": 4, "assembl": 4, "cid": 4, "crc": 4, "65535": 4, "crc_extra": 4, "create_head": 4, "header": 4, "create_packet": 4, "finish": 4, "create_payload": 4, "pack": 4, "user": 4, "accord": 4, "incompat": 4, "magic": 4, "mid": 4, "next_payload": 4, "p_len": 4, "psn": 4, "variabl": [4, 5], "save": [4, 5], "also": 4, "increment": 4, "shini": 4, "new": 4, "sid": 4, "sig": 4, "truncat": 4, "strip": 4, "nullbyt": 4, "x25": 4, "x25crc": 4, "improv": 4, "code": [1, 4, 5], "accumul": 4, "buf": [4, 5], "roll": 4, "chunk": 4, "accumulate_str": 4, "str": [4, 5], "perform": [1, 4], "creation": 4, "action": [4, 5], "independ": 4, "crc_check": 4, "decode_payload": 4, "format_overrid": 4, "test": [4, 5], "your": 5, "57600": 5, "bit": 5, "pariti": 5, "stop": 5, "rxbuf": 5, "64": 5, "wrapper": 5, "machin": 5, "deinit": 5, "mp": 5, "n_byte": 5, "readinto": 5, "readlin": 5, "setbaudr": 5, "alia": 5, "uart_io": 5, "option": [4, 5], "oper": 5, "uart_read": [], "listen": 5, "account": [], "so": 5, "don": 5, "spend": [], "process": [], "everi": [], "uart_writ": 5, "devic": 5, "achiev": 1, "avail": 1, "ha": 1, "each": 1, "uniqu": [1, 5], "seriou": 1, "optim": 1, "request": 1, "yet": 1, "been": 1, "implement": 1, "acceler": 1, "c": 1, "extent": [], "possibl": 1, "extens": 1, "custom": 1, "xml": 1, "dialog": 1, "caveat": 1, "At": 1, "support": 1, "sign": 1, "serv": 1, "hard": 1, "wire": 1, "diminish": 1, "without": 1, "sha": 1, "current": 1, "follow": 1, "have": 1, "mscformat": 1, "dictionari": 1, "minim": 1, "uavionix": 1, "allowed_messag": 4, "keep": [4, 5], "load_format": 4, "load": 4, "json": 4, "check_messag": 5, "ceck": 5, "drop": 5, "check_send": 5, "determin": 5, "valid_messag": 5, "unneed": 5, "cycl": 5, "sender": 5, "valid_send": 5, "criteria": 5, "idea": 5, "condit": 5, "bother": 5, "aren": 5, "relev": 5, "runtim": 4, "should_exit": 4, "none_wait": 5, "uart_read_2": 5, "better": 5, "equal": 5, "spread": 5, "delai": 5, "prime": 5, "assign": 5, "delay_var": 5, "get_prim": 5, "isprim": 5, "n": 5, "candid": 5}, "objects": {"": [[3, 0, 0, "-", "src"]], "src": [[4, 0, 0, "-", "mavlite"], [5, 0, 0, "-", "uart"]], "src.mavlite": [[4, 1, 1, "", "MavLink"], [4, 1, 1, "", "Packet"], [4, 1, 1, "", "X25crc"], [4, 4, 1, "", "crc_check"], [4, 4, 1, "", "decode_payload"], [4, 4, 1, "", "load_formats"], [4, 4, 1, "", "test"]], "src.mavlite.MavLink": [[4, 2, 1, "", "ack"], [4, 3, 1, "", "ack_wait"], [4, 3, 1, "", "allowed_messages"], [4, 3, 1, "", "command_parser"], [4, 2, 1, "", "confirmation"], [4, 3, 1, "", "heartbeat_wait"], [4, 3, 1, "", "io_buffers"], [4, 2, 1, "", "runtime"], [4, 3, 1, "", "send_command"], [4, 3, 1, "", "send_message"], [4, 2, 1, "", "term"]], "src.mavlite.Packet": [[4, 3, 1, "", "assemble"], [4, 2, 1, "", "cid"], [4, 2, 1, "", "compat"], [4, 2, 1, "", "crc"], [4, 2, 1, "", "crc_extra"], [4, 3, 1, "", "create_header"], [4, 3, 1, "", "create_packet"], [4, 3, 1, "", "create_payload"], [4, 2, 1, "", "header"], [4, 2, 1, "", "incompat"], [4, 2, 1, "", "magic"], [4, 2, 1, "", "mid"], [4, 2, 1, "", "next_payload"], [4, 2, 1, "", "p_len"], [4, 2, 1, "", "packet"], [4, 2, 1, "", "payload"], [4, 2, 1, "", "psn"], [4, 3, 1, "", "receive"], [4, 3, 1, "", "reset"], [4, 3, 1, "", "send"], [4, 2, 1, "", "sid"], [4, 2, 1, "", "sig"], [4, 3, 1, "", "truncate"], [4, 2, 1, "", "x25"]], "src.mavlite.X25crc": [[4, 3, 1, "", "accumulate"], [4, 3, 1, "", "accumulate_str"], [4, 3, 1, "", "create"]], "src.uart": [[5, 1, 1, "", "Equalizer"], [5, 1, 1, "", "UART"], [5, 4, 1, "", "check_message"], [5, 4, 1, "", "check_sender"], [5, 4, 1, "", "messages"], [5, 4, 1, "", "none_wait"], [5, 4, 1, "", "senders"], [5, 4, 1, "", "test"], [5, 4, 1, "", "uart_io"], [5, 4, 1, "", "uart_read_2"], [5, 4, 1, "", "uart_write"]], "src.uart.Equalizer": [[5, 3, 1, "", "assign"], [5, 3, 1, "", "get_primes"], [5, 3, 1, "", "isprime"], [5, 3, 1, "", "wait"]], "src.uart.UART": [[5, 3, 1, "", "any"], [5, 3, 1, "", "deinit"], [5, 2, 1, "", "mp"], [5, 3, 1, "", "read"], [5, 3, 1, "", "readinto"], [5, 3, 1, "", "readline"], [5, 3, 1, "", "setbaudrate"], [5, 2, 1, "", "uart"], [5, 3, 1, "", "write"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:attribute", "3": "py:method", "4": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "attribute", "Python attribute"], "3": ["py", "method", "Python method"], "4": ["py", "function", "Python function"]}, "titleterms": {"about": 1, "system": 1, "requir": 1, "test": 1, "hardwar": 1, "prerequisit": 1, "micropython": 1, "circuitpython": 1, "exampl": 1, "document": 1, "usag": 1, "gener": 1, "link": 1, "note": 1, "indic": 1, "tabl": 1, "src": [2, 3, 4, 5], "packag": 3, "submodul": 3, "modul": [3, 4, 5], "content": 3, "msgformat": [], "mavlit": 4, "uart": 5}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinx": 56}})